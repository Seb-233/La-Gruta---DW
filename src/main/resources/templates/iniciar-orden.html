<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Orden - La Gruta</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@300;500;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/header-footer.css">
    <link rel="stylesheet" href="/css/iniciar-orden.css">
</head>
<body>

<!-- Header -->
<header class="header-solid">
    <nav class="container-fluid d-flex justify-content-between align-items-center position-relative">
        <!-- Menú izquierdo -->
        <ul class="navbar-nav flex-row gap-4 left-menu">
            <li class="nav-item"><a class="nav-link" href="menu">Menú</a></li>
            <li class="nav-item"><a class="nav-link" href="restaurantes">Restaurantes</a></li>
        </ul>

        <!-- Logo centrado -->
        <a class="navbar-brand logo-central position-absolute top-50 start-50 translate-middle" href="index">
            <img src="../images/logoGruta.png" alt="Logo La Gruta Nera">
        </a>

        <!-- Menú derecho -->
        <ul class="navbar-nav flex-row gap-4 right-menu align-items-center">
            <li class="nav-item"><a class="nav-link" href="#sobre-nosotros">Nosotros</a></li>
            <li class="nav-item"><a class="nav-link" href="#contacto">Contacto</a></li>
            <li class="nav-item">
                <a class="nav-link btn btn-carrito position-relative" href="#" id="carritoBtn">
                    <img src="../images/shopping-bag.png" alt="Carrito" width="24" height="24">
                    <span class="badge bg-danger position-absolute top-0 start-100 translate-middle" id="cartCount" style="display: none;">0</span>
                </a>
            </li>
        </ul>
    </nav>
</header>

<!-- Breadcrumb -->
<div class="container mt-3">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index">Inicio</a></li>
            <li class="breadcrumb-item active" aria-current="page">Menú</li>
        </ol>
    </nav>
</div>

<!-- Opciones de entrega -->
<div class="container mt-3">
    <div class="delivery-options d-flex gap-3 mb-4">
        <button class="btn btn-delivery active" data-delivery="domicilio">
            <i class="fas fa-motorcycle"></i> Domicilio
        </button>
        <button class="btn btn-delivery" data-delivery="recoger">
            <i class="fas fa-store"></i> Recoger/Consumir
        </button>
    </div>
</div>

<!-- Categorías de menú -->
<div class="container">
    <div class="category-tabs">
        <div class="row g-2 justify-content-center">
            <div class="col-auto">
                <button class="btn btn-category active" data-category="antipastos">
                    <img src="../images/bruschetta.jpg" alt="Antipastos" class="category-icon">
                    <span>Antipastos</span>
                </button>
            </div>
            <div class="col-auto">
                <button class="btn btn-category" data-category="pizzas">
                    <img src="../images/pizzaNera.webp" alt="Pizzas" class="category-icon">
                    <span>Pizzas</span>
                </button>
            </div>
            <div class="col-auto">
                <button class="btn btn-category" data-category="pastas">
                    <img src="../images/pasta_carbonara.jpg" alt="Pastas" class="category-icon">
                    <span>Pastas</span>
                </button>
            </div>
            <div class="col-auto">
                <button class="btn btn-category" data-category="risottos">
                    <img src="../images/risotoAlTartufo.avif" alt="Risottos" class="category-icon">
                    <span>Risottos</span>
                </button>
            </div>
            <div class="col-auto">
                <button class="btn btn-category" data-category="postres">
                    <img src="../images/tiramisu.jpg" alt="Postres" class="category-icon">
                    <span>Postres</span>
                </button>
            </div>
            <div class="col-auto">
                <button class="btn btn-category" data-category="bebidas">
                    <img src="../images/Bebidas.png" alt="Bebidas" class="category-icon">
                    <span>Bebidas</span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Contenido principal -->
<main class="container mt-4">
    <div class="row">
        <!-- Lista de productos -->
        <div class="col-lg-8">
            <div id="categoryTitle" class="category-title">
                <h2>Antipastos</h2>
            </div>
            
            <div id="productList" class="product-list">
                <!-- Los productos se cargarán dinámicamente aquí -->
            </div>
        </div>

        <!-- Carrito lateral -->
        <div class="col-lg-4">
            <div class="cart-sidebar">
                <div class="cart-header">
                    <h4>Tu pedido</h4>
                    <span class="cart-count">0 productos</span>
                </div>
                <div class="cart-content" id="cartContent">
                    <div class="empty-cart">
                        <img src="../images/shopping-bag.png" alt="Carrito vacío" width="64" height="64">
                        <p>Tu carrito está vacío</p>
                        <small>Agrega productos para comenzar tu pedido</small>
                    </div>
                </div>
                <div class="cart-footer" id="cartFooter" style="display: none;">
                    <div class="cart-total">
                        <strong>Total: $<span id="cartTotal">0</span></strong>
                    </div>
                    <button class="btn btn-checkout w-100 mt-3">Continuar pedido</button>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Modal para adicionales -->
<div class="modal fade" id="adicionalesModal" tabindex="-1" aria-labelledby="adicionalesModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="adicionalesModalLabel">Personaliza tu pedido</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4">
                        <img id="modalProductImage" src="" alt="Producto" class="img-fluid rounded">
                    </div>
                    <div class="col-md-8">
                        <h6 id="modalProductName"></h6>
                        <p id="modalProductDescription" class="text-muted"></p>
                        <div class="price-display">
                            <span class="price">$<span id="modalProductPrice">0</span></span>
                        </div>
                    </div>
                </div>
                
                <div class="adicionales-section mt-4">
                    <h6>Acompañamientos <span class="text-muted">(Opcional)</span></h6>
                    <div id="adicionalesList">
                        <!-- Los adicionales se cargarán dinámicamente aquí -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="quantity-controls">
                    <button type="button" class="btn btn-outline-secondary" id="decreaseQty">-</button>
                    <span class="quantity" id="modalQuantity">1</span>
                    <button type="button" class="btn btn-outline-secondary" id="increaseQty">+</button>
                </div>
                <button type="button" class="btn btn-primary" id="addToCartBtn">
                    Agregar - $<span id="modalTotalPrice">0</span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer" class="mt-5">
    <div class="container">
        <div class="row gy-4">
            <div class="col-lg-4 text-center text-lg-start">
                <img src="../images/logoGruta.png" height="80" alt="Logo La Gruta Nera">
                <p class="mt-3">Restaurante italiano subterráneo...</p>
            </div>
            <div class="col-lg-4 text-center">
                <h5>Contacto</h5>
                <p>Calle 123, Bogotá, Colombia</p>
                <p>Tel: +57 300 123 4567</p>
                <p>Email: contacto@lagrutanea.com</p>
            </div>
            <div class="col-lg-4 text-center text-lg-end">
                <h5>Síguenos</h5>
                <div class="footer-redes mt-2">
                    <a href="#"><img src="../images/facebook.png" height="20"> Facebook</a><br>
                    <a href="#"><img src="../images/instagram.png" height="20"> Instagram</a><br>
                    <a href="#"><img src="../images/x.png" height="20"> X</a>
                </div>
            </div>
        </div>
        <hr class="mt-4">
        <p class="text-center mb-0">© 2025 La Gruta Nera - Todos los derechos reservados</p>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/iniciar-orden.js"></script>
</body>
</html>

